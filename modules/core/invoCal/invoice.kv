<InvoiceScreen>:
    orientation: "vertical"
    canvas.before:
        Color:
            rgba: 0.9, 0.95, 1, 1  # Light blue background
        Rectangle:
            size: self.size
            pos: self.pos
    
    # Input and result header section
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 0.3
        padding: 20, 20
        spacing: 20
        
        # Input panel
        BoxLayout:
            orientation: "vertical"
            size_hint_x: 0.4
            spacing: 15
            
            TextInput:
                id: fee_input
                hint_text: "Tahsil Edilecek Arabuluculuk\nÜcretini Giriniz (₺)"
                multiline: False
                size_hint_y: None
                height: "48dp"
                font_size: "16sp"
                halign: "center"
                padding: 10, 10
            
            Spinner:
                id: option_spinner
                text: "KDV ve Stopaj\nSeçimi"
                values: ["KDV ve Stopaj Dahil", "KDV Dahil, Stopaj Hariç", "KDV ve Stopaj Hariç", "KDV Hariç, Stopaj Dahil"]
                size_hint_y: None
                height: "48dp"
                font_size: "16sp"
                halign: "center"
                background_color: 0.3, 0.5, 0.9, 1
            
            Button:
                text: "Hesapla"
                size_hint_y: None
                height: "48dp"
                font_size: "18sp"
                background_color: 0.1, 0.1, 0.5, 1
                on_press: root.calculate()
        
        # Result header panel
        BoxLayout:
            orientation: "vertical"
            size_hint_x: 0.6
            
            Label:
                id: result_label
                text: ""
                font_size: "18sp"
                color: 0, 0, 0.6, 1
                halign: "center"
                valign: "middle"
                text_size: self.size
    
    # Table header
    BoxLayout:
        size_hint_y: None
        height: "40dp"
        padding: 5, 0
        
        Label:
            text: "Makbuz Kalemleri"
            font_size: "16sp"
            color: 0, 0, 0.6, 1
            bold: True
            size_hint_x: 0.3
            halign: "center"
            valign: "middle"
            text_size: self.size
            canvas.before:
                Color:
                    rgba: 0.8, 0.85, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        
        Label:
            text: "Tüzel Kişi"
            font_size: "16sp"
            color: 0, 0, 0.6, 1
            bold: True
            size_hint_x: 0.3
            halign: "center"
            valign: "middle"
            text_size: self.size
            canvas.before:
                Color:
                    rgba: 0.8, 0.85, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        
        Label:
            text: "Gerçek Kişi"
            font_size: "16sp"
            color: 0, 0, 0.6, 1
            bold: True
            size_hint_x: 0.3
            halign: "center"
            valign: "middle"
            text_size: self.size
            canvas.before:
                Color:
                    rgba: 0.8, 0.85, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
    
    # Results grid
    GridLayout:
        id: result_table
        cols: 3
        size_hint_y: 0.6
        padding: 20, 0, 20, 20
        spacing: 5
        halign: "center"  # Added this line to center the numbers in the grid
        canvas.before:
            Color:
                rgba: 0.8, 0.85, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos